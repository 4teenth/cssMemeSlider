<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cssMemeSlider</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <main>
      <div class="wrapper">
        <section class="slides-box">
          <div class="slide">
            <img src="./imgs/alan_happy.png" alt="meme-pic" />
          </div>
          <div class="slide">
            <img src="./imgs/alan_satisfied.png" alt="meme-pic" />
          </div>
          <div class="slide">
            <img src="./imgs/alan_excited.png" alt="meme-pic" />
          </div>
          <div class="slide">
            <img src="./imgs/yeah_boi.png" alt="meme-pic" />
          </div>
          <div class="slide">
            <img src="./imgs/alan_sad.png" alt="meme-pic" />
          </div>
        </section>
        <section class="about-memes">
          <p class="meme-descr">HTML is sooo easy.</p>
          <div class="dots">
            <div class="dot-wrapper dot-wrpr-1">
              <div class="dot-shape active"></div>
            </div>
            <div class="dot-wrapper dot-wrpr-2">
              <div class="dot-shape"></div>
            </div>
            <div class="dot-wrapper dot-wrpr-3">
              <div class="dot-shape"></div>
            </div>
            <div class="dot-wrapper dot-wrpr-4">
              <div class="dot-shape"></div>
            </div>
            <div class="dot-wrapper dot-wrpr-5">
              <div class="dot-shape"></div>
            </div>
          </div>
        </section>
      </div>
    </main>
    <script type="text/javascript">
      const slidesBox = document.querySelector(".slides-box");
      const slide = document.getElementsByClassName("slide");
      const dotNav = document.getElementsByClassName("dot-shape");

      const dotWrapper1 = document.querySelector(".dot-wrpr-1");
      const dotWrapper2 = document.querySelector(".dot-wrpr-2");
      const dotWrapper3 = document.querySelector(".dot-wrpr-3");
      const dotWrapper4 = document.querySelector(".dot-wrpr-4");
      const dotWrapper5 = document.querySelector(".dot-wrpr-5");

      let index = 0;
      let width;
      function slideWith() {
        width = slide[0].clientWidth;
      }
      slideWith();
      window.addEventListener("resize", slideWith);
      slidesBox.style.transform = "translateX(" + -width * index + "px)";

      dotWrapper2.addEventListener("click", secDot);
      function secDot() {
        if (index >= slide.length - 1) {
          return;
        }
        slidesBox.style.transition = "transform 0.4s ease-in-out";
        index = 1;
        slidesBox.style.transform = "translateX(" + -width * index + "px)";
        dotsLabel();
      }
      dotWrapper3.addEventListener("click", trdDot);
      function trdDot() {
        if (index >= slide.length - 1) {
          return;
        }
        slidesBox.style.transition = "transform 0.4s ease-in-out";
        index = 2;
        slidesBox.style.transform = "translateX(" + -width * index + "px)";
        dotsLabel();
      }
      dotWrapper4.addEventListener("click", frhDot);
      function frhDot() {
        if (index >= slide.length - 1) {
          return;
        }
        slidesBox.style.transition = "transform 0.4s ease-in-out";
        index = 3;
        slidesBox.style.transform = "translateX(" + -width * index + "px)";
        dotsLabel();
      }
      dotWrapper5.addEventListener("click", ffhDot);
      function ffhDot() {
        if (index >= slide.length - 1) {
          return;
        }
        slidesBox.style.transition = "transform 0.4s ease-in-out";
        index = 4;
        slidesBox.style.transform = "translateX(" + -width * index + "px)";
        dotsLabel();
      }
      //   ---
      dotWrapper1.addEventListener("click", fstDot);
      function fstDot() {
        if (index <= 0) {
          return;
        }
        slidesBox.style.transition = "transform 0.4s ease-in-out";
        index = 0;
        slidesBox.style.transform = "translateX(" + -width * index + "px)";
        dotsLabel();
      }
      dotWrapper4.addEventListener("click", revFrhDot);
      function revFrhDot() {
        if (index <= 0) {
          return;
        }
        slidesBox.style.transition = "transform 0.4s ease-in-out";
        index = 3;
        slidesBox.style.transform = "translateX(" + -width * index + "px)";
        dotsLabel();
      }
      dotWrapper3.addEventListener("click", revTrdDot);
      function revTrdDot() {
        if (index <= 0) {
          return;
        }
        slidesBox.style.transition = "transform 0.4s ease-in-out";
        index = 2;
        slidesBox.style.transform = "translateX(" + -width * index + "px)";
        dotsLabel();
      }
      dotWrapper2.addEventListener("click", revSecDot);
      function revSecDot() {
        if (index <= 0) {
          return;
        }
        slidesBox.style.transition = "transform 0.4s ease-in-out";
        index = 1;
        slidesBox.style.transform = "translateX(" + -width * index + "px)";
        dotsLabel();
      }

      function dotsLabel() {
        for (i = 0; i < dotNav.length; i++) {
          dotNav[i].className = dotNav[i].className.replace(" active", "");
        }
        dotNav[index].className += " active";
      }
    </script>
  </body>
</html>
